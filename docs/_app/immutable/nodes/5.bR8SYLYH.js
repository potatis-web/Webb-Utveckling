import"../chunks/DsnmJJEf.js";import"../chunks/DjzSHCTo.js";import{o as ie,e as ue,a as fe}from"../chunks/CbeLWFEB.js";import{C as K,D as ve,J as L,j as I,M as oe,O as de,g as A,U as ce,V as _e,W as he,X as U,I as F,K as k,E as me,Y as pe,S as B,Z as ge,_ as H,$ as be,m as Z,a0 as W,a1 as P,a2 as Q,a3 as ye,a4 as j,a5 as we,a6 as Ee,a7 as xe,a8 as J,T as ee,G as Te,a9 as Se,aa as Ae,ab as Ie,ac as Me,ad as Ne,ae as Re,t as $e,af as Ce,ag as De,ah as Oe,v as ke,o as ae,w as V,p as X,x as qe,z as R,y as $,ai as He,A as N,s as Le}from"../chunks/DleHUPD8.js";import{s as Fe}from"../chunks/CvVkOcfy.js";import{p as Je,u as z}from"../chunks/8e_JDDYT.js";import{i as Ve}from"../chunks/DIJCpI3Q.js";import{s as Ye,a as Be,b as Ge}from"../chunks/CDpKkvR4.js";import{b as Ue}from"../chunks/BYjrMfXR.js";function We(e,r){return r}function Xe(e,r,a){for(var t=e.items,i=[],s=r.length,l=0;l<s;l++)Se(r[l].e,i,!0);var d=s>0&&i.length===0&&a!==null;if(d){var p=a.parentNode;Ae(p),p.append(a),t.clear(),T(e,r[0].prev,r[s-1].next)}Ie(i,()=>{for(var h=0;h<s;h++){var g=r[h];d||(t.delete(g.k),T(e,g.prev,g.next)),ee(g.e,!d)}})}function ze(e,r,a,t,i,s=null){var l=e,d={flags:r,items:new Map,first:null};{var p=e;l=I?L(oe(p)):p.appendChild(K())}I&&de();var h=null,g=!1,w=new Map,n=ce(()=>{var o=a();return Q(o)?o:o==null?[]:P(o)}),_,u;function v(){Ke(u,_,d,w,l,i,r,t,a),s!==null&&(_.length===0?h?j(h):h=B(()=>s(l)):h!==null&&we(h,()=>{h=null}))}ve(()=>{u??=Me,_=A(n);var o=_.length;if(g&&o===0)return;g=o===0;let y=!1;if(I){var m=_e(l)===he;m!==(o===0)&&(l=U(),L(l),F(!1),y=!0)}if(I){for(var f=null,b,c=0;c<o;c++){if(k.nodeType===me&&k.data===pe){l=k,y=!0,F(!1);break}var S=_[c],x=t(S,c);b=G(k,d,f,null,S,x,c,i,r,a),d.items.set(x,b),f=b}o>0&&L(U())}if(I)o===0&&s&&(h=B(()=>s(l)));else if(ge()){var M=new Set,E=H;for(c=0;c<o;c+=1){S=_[c],x=t(S,c);var C=d.items.get(x)??w.get(x);C?re(C,S,c):(b=G(null,d,null,null,S,x,c,i,r,a,!0),w.set(x,b)),M.add(x)}for(const[D,O]of d.items)M.has(D)||E.skipped_effects.add(O.e);E.add_callback(v)}else v();y&&F(!0),A(n)}),I&&(l=k)}function Ke(e,r,a,t,i,s,l,d,p){var h=r.length,g=a.items,w=a.first,n=w,_,u=null,v=[],o=[],y,m,f,b;for(b=0;b<h;b+=1){if(y=r[b],m=d(y,b),f=g.get(m),f===void 0){var c=t.get(m);if(c!==void 0){t.delete(m),g.set(m,c);var S=u?u.next:n;T(a,u,c),T(a,c,S),Y(c,S,i),u=c}else{var x=n?n.e.nodes_start:i;u=G(x,a,u,u===null?a.first:u.next,y,m,b,s,l,p)}g.set(m,u),v=[],o=[],n=u.next;continue}if(re(f,y,b),(f.e.f&J)!==0&&j(f.e),f!==n){if(_!==void 0&&_.has(f)){if(v.length<o.length){var M=o[0],E;u=M.prev;var C=v[0],D=v[v.length-1];for(E=0;E<v.length;E+=1)Y(v[E],M,i);for(E=0;E<o.length;E+=1)_.delete(o[E]);T(a,C.prev,D.next),T(a,u,C),T(a,D,M),n=M,u=D,b-=1,v=[],o=[]}else _.delete(f),Y(f,n,i),T(a,f.prev,f.next),T(a,f,u===null?a.first:u.next),T(a,u,f),u=f;continue}for(v=[],o=[];n!==null&&n.k!==m;)(n.e.f&J)===0&&(_??=new Set).add(n),o.push(n),n=n.next;if(n===null)continue;f=n}v.push(f),u=f,n=f.next}if(n!==null||_!==void 0){for(var O=_===void 0?[]:P(_);n!==null;)(n.e.f&J)===0&&O.push(n),n=n.next;var te=O.length;if(te>0){var ne=h===0?i:null;Xe(a,O,ne)}}e.first=a.first&&a.first.e,e.last=u&&u.e;for(var le of t.values())ee(le.e);t.clear()}function re(e,r,a,t){be(e.v,r),e.i=a}function G(e,r,a,t,i,s,l,d,p,h,g){var w=(p&Ee)!==0,n=(p&xe)===0,_=w?n?Z(i,!1,!1):W(i):i,u=(p&ye)===0?l:W(l),v={i:u,v:_,k:s,a:null,e:null,prev:a,next:t};try{if(e===null){var o=document.createDocumentFragment();o.append(e=K())}return v.e=B(()=>d(e,_,u,h),I),v.e.prev=a&&a.e,v.e.next=t&&t.e,a===null?g||(r.first=v):(a.next=v,a.e.next=v.e),t!==null&&(t.prev=v,t.e.prev=v.e),v}finally{}}function Y(e,r,a){for(var t=e.next?e.next.e.nodes_start:a,i=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==null&&s!==t;){var l=Te(s);i.before(s),s=l}}function T(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Ze(e,r){return e==null?null:String(e)}function Pe(e,r,a,t){var i=e.__style;if(I||i!==r){var s=Ze(r);(!I||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=r}return t}function se(e,r,a=!1){if(e.multiple){if(r==null)return;if(!Q(r))return Ce();for(var t of e.options)t.selected=r.includes(q(t));return}for(t of e.options){var i=q(t);if(De(i,r)){t.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Qe(e){var r=new MutationObserver(()=>{se(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$e(()=>{r.disconnect()})}function je(e,r,a=r){var t=new WeakSet,i=!0;Ne(e,"change",s=>{var l=s?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(l),q);else{var p=e.querySelector(l)??e.querySelector("option:not([disabled])");d=p&&q(p)}a(d),H!==null&&t.add(H)}),Re(()=>{var s=r();if(e===document.activeElement){var l=Oe??H;if(t.has(l))return}if(se(e,s,i),i&&s===void 0){var d=e.querySelector(":checked");d!==null&&(s=q(d),a(s))}e.__value=s,i=!1}),Qe(e)}function q(e){return"__value"in e?e.__value:e.value}var ea=ae("<option> </option>"),aa=ae('<main class="svelte-52fghe"><div class="container svelte-52fghe"><h1 class="svelte-52fghe">Registrering</h1> <form><div class="fields-container svelte-52fghe"><label for="username" class="svelte-52fghe">Användarnamn</label> <input type="text" id="username" name="username" class="svelte-52fghe"/> <label for="password" class="svelte-52fghe">Lösenord</label> <input type="password" id="password" name="password" class="svelte-52fghe"/></div> <br/> <label for="form-1" class="svelte-52fghe">Favoritfärg</label> <select id="form-1" class="svelte-52fghe"></select> <br/> <div></div> <br/><br/> <input type="submit" value="Registrera" class="svelte-52fghe"/></form> <div><h2 class="svelte-52fghe">Har du redan ett konto? <a class="svelte-52fghe">Logga in</a></h2></div></div></main>');function oa(e,r){ke(r,!1);const a=()=>Be(z,"$users_store",t),[t,i]=Ye();let s=[];ie(()=>{a().length>2&&(s=JSON.parse(a()))});let l=Z("black"),d=[{namn:"Blå",value:"blue"},{namn:"Röd",value:"red"},{namn:"Grön",value:"green"}];function p(){let y={username,password,color:A(l)};console.log("Starting username validation...");let m=!1;for(user of s)if(console.log(user),user.username===y.username){alert("This user already exists! Try another username"),m=!0;break}m||(s=[...s,y],Ge(z,JSON.stringify(s))),console.log("done")}Ve();var h=aa(),g=$(h),w=R($(g),2),n=R($(w),6);V(()=>{A(l),He(()=>{})}),ze(n,5,()=>d,We,(y,m)=>{var f=ea(),b=$(f,!0);N(f);var c={};V(()=>{fe(b,A(m).namn),c!==(c=A(m).value)&&(f.value=(f.__value=A(m).value)??"")}),X(y,f)}),N(n);var _=R(n,4);R(_,5),N(w);var u=R(w,2),v=$(u),o=R($(v));N(v),N(u),N(g),N(h),V(()=>{Pe(_,`width: 100px; height: 100px; border-radius: 50%; overflow:hidden; background-color:${A(l)??""};`),Fe(o,"href",`${Ue??""}/login`)}),je(n,()=>A(l),y=>Le(l,y)),ue("submit",w,Je(p)),X(e,h),qe(),i()}export{oa as component};
