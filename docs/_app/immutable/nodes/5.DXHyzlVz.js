import"../chunks/DsnmJJEf.js";import"../chunks/CB43K-WV.js";import{o as M}from"../chunks/Cur_kw-y.js";import{j as A,av as N,aw as j,t as z,U as B,ax as D,ay as E,Q as y,az as G,a9 as H,a6 as R,aa as w,g as o,a7 as L,ab as I,ad as d,ac as c,m as Q,aA as U,ae as u,s as W}from"../chunks/BoIqALmj.js";import{e as C,s as K}from"../chunks/Dy0t-SUN.js";import{e as P,i as V}from"../chunks/DhQjso7j.js";import{s as X}from"../chunks/DhfI446q.js";import{p as Y,u as O}from"../chunks/Cf5vM0_g.js";import{i as Z}from"../chunks/DRST71BQ.js";import{s as ee,a as ae,b as re}from"../chunks/D7qmax6n.js";import{b as se}from"../chunks/DsgCu4JJ.js";function te(e,a){return e==null?null:String(e)}function ne(e,a,i,s){var n=e.__style;if(A||n!==a){var r=te(a);(!A||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=a}return s}function T(e,a,i=!1){if(e.multiple){if(a==null)return;if(!B(a))return D();for(var s of e.options)s.selected=a.includes(_(s));return}for(s of e.options){var n=_(s);if(E(n,a)){s.selected=!0;return}}(!i||a!==void 0)&&(e.selectedIndex=-1)}function ie(e){var a=new MutationObserver(()=>{T(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),z(()=>{a.disconnect()})}function le(e,a,i=a){var s=new WeakSet,n=!0;N(e,"change",r=>{var t=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(t),_);else{var p=e.querySelector(t)??e.querySelector("option:not([disabled])");l=p&&_(p)}i(l),y!==null&&s.add(y)}),j(()=>{var r=a();if(e===document.activeElement){var t=G??y;if(s.has(t))return}if(T(e,r,n),n&&r===void 0){var l=e.querySelector(":checked");l!==null&&(r=_(l),i(r))}e.__value=r,n=!1}),ie(e)}function _(e){return"__value"in e?e.__value:e.value}var oe=R("<option> </option>"),ue=R('<main class="svelte-52fghe"><div class="container svelte-52fghe"><h1 class="svelte-52fghe">Registrering</h1> <form><div class="fields-container svelte-52fghe"><label for="username" class="svelte-52fghe">Användarnamn</label> <input type="text" id="username" name="username" class="svelte-52fghe"/> <label for="password" class="svelte-52fghe">Lösenord</label> <input type="password" id="password" name="password" class="svelte-52fghe"/></div> <br/> <label for="form-1" class="svelte-52fghe">Favoritfärg</label> <select id="form-1" class="svelte-52fghe"></select> <br/> <div></div> <br/><br/> <input type="submit" value="Registrera" class="svelte-52fghe"/></form> <div><h2 class="svelte-52fghe">Har du redan ett konto? <a class="svelte-52fghe">Logga in</a></h2></div></div></main>');function we(e,a){H(a,!1);const i=()=>ae(O,"$users_store",s),[s,n]=ee();let r=[];M(()=>{i().length>2&&(r=JSON.parse(i()))});let t=Q("black"),l=[{namn:"Blå",value:"blue"},{namn:"Röd",value:"red"},{namn:"Grön",value:"green"}];function p(){let f={username,password,color:o(t)};console.log("Starting username validation...");let v=!1;for(user of r)if(console.log(user),user.username===f.username){alert("This user already exists! Try another username"),v=!0;break}v||(r=[...r,f],re(O,JSON.stringify(r))),console.log("done")}Z();var b=ue(),S=c(b),g=d(c(S),2),h=d(c(g),6);w(()=>{o(t),U(()=>{})}),P(h,5,()=>l,V,(f,v)=>{var m=oe(),J=c(m,!0);u(m);var q={};w(()=>{K(J,o(v).namn),q!==(q=o(v).value)&&(m.value=(m.__value=o(v).value)??"")}),L(f,m)}),u(h);var x=d(h,4);d(x,5),u(g);var $=d(g,2),k=c($),F=d(c(k));u(k),u($),u(S),u(b),w(()=>{ne(x,`width: 100px; height: 100px; border-radius: 50%; overflow:hidden; background-color:${o(t)??""};`),X(F,"href",`${se??""}/login`)}),le(h,()=>o(t),f=>W(t,f)),C("submit",g,Y(p)),L(e,b),I(),n()}export{we as component};
