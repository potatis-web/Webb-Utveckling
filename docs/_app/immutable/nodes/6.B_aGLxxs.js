import"../chunks/DsnmJJEf.js";import"../chunks/C6I0WRbe.js";import{o as D}from"../chunks/CFha6LQZ.js";import{J as F,an as N,t as T,_ as j,ao as B,ap as E,D as y,M as G,af as H,ac as M,ag as w,g as l,ad as J,ah as I,aj as d,ai as m,m as W,aq as z,ak as u,s as C}from"../chunks/BvhDv1ws.js";import{e as K,s as P}from"../chunks/COSxVsvU.js";import{e as Q,i as U}from"../chunks/6i7Ri8Fa.js";import{s as V}from"../chunks/BcLwHp3l.js";import{s as X}from"../chunks/BWviF3z-.js";import{p as Y}from"../chunks/D4Caz1gY.js";import{i as Z}from"../chunks/Ux8h-sAw.js";import{s as ee,a as ae,b as re}from"../chunks/CtbEpCPc.js";import{b as se}from"../chunks/C668771V.js";import{u as L}from"../chunks/BD89TTFE.js";function O(e,a,o=!1){if(e.multiple){if(a==null)return;if(!j(a))return B();for(var s of e.options)s.selected=a.includes(p(s));return}for(s of e.options){var i=p(s);if(E(i,a)){s.selected=!0;return}}(!o||a!==void 0)&&(e.selectedIndex=-1)}function te(e){var a=new MutationObserver(()=>{O(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),T(()=>{a.disconnect()})}function ne(e,a,o=a){var s=new WeakSet,i=!0;F(e,"change",r=>{var t=r?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(t),p);else{var _=e.querySelector(t)??e.querySelector("option:not([disabled])");n=_&&p(_)}o(n),y!==null&&s.add(y)}),N(()=>{var r=a();if(e===document.activeElement){var t=G??y;if(s.has(t))return}if(O(e,r,i),i&&r===void 0){var n=e.querySelector(":checked");n!==null&&(r=p(n),o(r))}e.__value=r,i=!1}),te(e)}function p(e){return"__value"in e?e.__value:e.value}var oe=M("<option> </option>"),ie=M('<main class="svelte-52fghe"><div class="container svelte-52fghe"><h1 class="svelte-52fghe">Registrering</h1> <form><div class="fields-container svelte-52fghe"><label for="username" class="svelte-52fghe">Användarnamn</label> <input type="text" id="username" name="username" class="svelte-52fghe"/> <label for="password" class="svelte-52fghe">Lösenord</label> <input type="password" id="password" name="password" class="svelte-52fghe"/></div> <br/> <label for="form-1" class="svelte-52fghe">Favoritfärg</label> <select id="form-1" class="svelte-52fghe"></select> <br/> <div></div> <br/><br/> <input type="submit" value="Registrera" class="svelte-52fghe"/></form> <div><h2 class="svelte-52fghe">Har du redan ett konto? <a class="svelte-52fghe">Logga in</a></h2></div></div></main>');function we(e,a){H(a,!1);const o=()=>ae(L,"$users_store",s),[s,i]=ee();let r=[];D(()=>{o().length>2&&(r=JSON.parse(o()))});let t=W("black"),n=[{namn:"Blå",value:"blue"},{namn:"Röd",value:"red"},{namn:"Grön",value:"green"}];function _(){let f={username,password,color:l(t)};console.log("Starting username validation...");let v=!1;for(user of r)if(console.log(user),user.username===f.username){alert("This user already exists! Try another username"),v=!0;break}v||(r=[...r,f],re(L,JSON.stringify(r))),console.log("done")}Z();var b=ie(),x=m(b),h=d(m(x),2),g=d(m(h),6);w(()=>{l(t),z(()=>{})}),Q(g,5,()=>n,U,(f,v)=>{var c=oe(),A=m(c,!0);u(c);var q={};w(()=>{P(A,l(v).namn),q!==(q=l(v).value)&&(c.value=(c.__value=l(v).value)??"")}),J(f,c)}),u(g);var S=d(g,4);d(S,5),u(h);var k=d(h,2),$=m(k),R=d(m($));u($),u(k),u(x),u(b),w(()=>{X(S,`width: 100px; height: 100px; border-radius: 50%; overflow:hidden; background-color:${l(t)??""};`),V(R,"href",`${se??""}/login`)}),ne(g,()=>l(t),f=>C(t,f)),K("submit",h,Y(_)),J(e,b),I(),i()}export{we as component};
